# Gerrit-Retention データソース拡張計画

## 現状データ

### 📊 現在の収集済みデータ

- **開発者数**: 135 名
- **Change 数**: 90 件程度
- **期間**: 2017-07-11 ～ 2025-08-31
- **対象プロジェクト**:
  - Android (platform/frameworks/base: 26 名)
  - Android (platform/packages/apps/Settings: 10 名)
  - Chromium (chromium/src: 5 名)

## 🚀 拡張可能なデータソース

### 1. OpenStack プロジェクト群

**Gerrit URL**: `https://review.opendev.org`

#### 主要プロジェクト

- **Nova** (コンピュートサービス) - 最も活発
- **Neutron** (ネットワークサービス)
- **Cinder** (ブロックストレージ)
- **Keystone** (アイデンティティサービス)
- **Glance** (イメージサービス)
- **Swift** (オブジェクトストレージ)
- **Heat** (オーケストレーション)
- **Horizon** (ダッシュボード)

**期待される規模**: 数千名の開発者、数万件の Change

### 2. Mozilla プロジェクト

**注意**: Mozilla は Gerrit ではなく Phabricator を使用

- 代替案: Bugzilla API や GitHub API を使用した分析

### 3. LibreOffice

**Gerrit URL**: `https://gerrit.libreoffice.org`

#### 主要プロジェクト

- **core** (メインコア)
- **help** (ヘルプシステム)
- **translations** (翻訳)
- **dictionaries** (辞書)

**期待される規模**: 数百名の開発者、数千件の Change

### 4. Wikimedia (MediaWiki)

**Gerrit URL**: `https://gerrit.wikimedia.org/r`

#### 主要プロジェクト

- **mediawiki/core** (MediaWiki コア)
- **mediawiki/extensions/VisualEditor**
- **mediawiki/extensions/Wikibase**
- **operations/puppet** (インフラ管理)

**期待される規模**: 数百名の開発者、数千件の Change

### 5. Go 言語

**Gerrit URL**: `https://go-review.googlesource.com`

#### 主要プロジェクト

- **go** (Go 言語本体)
- **tools** (Go 開発ツール)
- **crypto** (暗号化ライブラリ)
- **net** (ネットワークライブラリ)

**期待される規模**: 数百名の開発者、数千件の Change

### 6. Qt Framework

**Gerrit URL**: `https://codereview.qt-project.org`

#### 主要プロジェクト

- **qt/qtbase** (Qt ベース)
- **qt/qtdeclarative** (QML/Qt Quick)
- **qt/qtwidgets** (ウィジェット)
- **qt/qtnetwork** (ネットワーク)

**期待される規模**: 数百名の開発者、数千件の Change

## 📈 拡張後の予想データ規模

### 保守的見積もり

- **開発者数**: 1,000 ～ 3,000 名
- **Change 数**: 10,000 ～ 50,000 件
- **プロジェクト数**: 30 ～ 50 個
- **期間**: 2015 年～現在（約 8-10 年間）

### 楽観的見積もり

- **開発者数**: 5,000 ～ 10,000 名
- **Change 数**: 100,000 ～ 500,000 件
- **プロジェクト数**: 50 ～ 100 個

## 🛠️ 実装済み機能

### ✅ 拡張データ収集スクリプト

`scripts/expand_data_sources.py` を作成済み

**主な機能**:

- 複数 Gerrit インスタンスからの並行データ収集
- レート制限対応とリトライ機能
- 開発者重複除去
- プロジェクト別統計分析
- 包括的なサマリーレポート生成

### ✅ 対応済みプロジェクト

1. **OpenStack** (Nova, Neutron, Cinder 等)
2. **LibreOffice** (core, help, translations 等)
3. **Wikimedia** (MediaWiki core 等)
4. **Android** (既存)
5. **Chromium** (既存)
6. **Go 言語** (go, tools 等)
7. **Qt** (qtbase, qtdeclarative 等)

## 🚀 実行方法

### 1. 拡張データ収集の実行

```bash
# gerrit-retentionディレクトリで実行
uv run --directory gerrit-retention python scripts/expand_data_sources.py
```

### 2. 特定プロジェクトのみ収集

スクリプト内の`sources_to_collect`を編集:

```python
sources_to_collect = [
    "openstack",      # Nova等を含む
    "libreoffice",    # LibreOffice
    "wikimedia"       # MediaWiki
]
```

### 3. 収集後の分析実行

```bash
# 継続要因分析
uv run --directory gerrit-retention python -m gerrit_retention.cli analyze --type all

# 可視化生成
uv run --directory gerrit-retention python scripts/generate_visualizations.py

# 予測モデル訓練
uv run --directory gerrit-retention python -m gerrit_retention.cli train --component all
```

## 📊 期待される分析改善効果

### 1. 統計的信頼性の向上

- **現在**: 135 名のサンプル
- **拡張後**: 1,000 ～ 10,000 名のサンプル
- **効果**: より信頼性の高い継続要因分析

### 2. プロジェクト間比較分析

- **現在**: Android、Chromium 中心
- **拡張後**: 8 つの異なるエコシステム
- **効果**: プロジェクト特性による継続要因の違いを分析

### 3. 技術領域別分析

- **システムソフトウェア**: Android、Chromium
- **クラウドインフラ**: OpenStack
- **オフィススイート**: LibreOffice
- **Web プラットフォーム**: MediaWiki
- **プログラミング言語**: Go
- **GUI フレームワーク**: Qt

### 4. 時系列分析の精度向上

- **現在**: 限定的な期間データ
- **拡張後**: 8-10 年間の長期データ
- **効果**: 開発者のライフサイクル全体を分析

## ⚠️ 注意事項

### 1. レート制限

- 各 Gerrit インスタンスには適切な間隔でアクセス
- 実装済みのリトライ機能を使用

### 2. データ品質

- プロジェクトによってデータ構造が異なる可能性
- 収集後のデータ検証が重要

### 3. 実行時間

- 大規模データ収集には数時間～数日かかる可能性
- バッチ処理での実行を推奨

## 🎯 次のステップ

1. **小規模テスト**: OpenStack の Nova プロジェクトのみで試行
2. **段階的拡張**: 成功したプロジェクトから順次追加
3. **分析結果比較**: 現在のデータと拡張データの分析結果を比較
4. **論文・研究**: より大規模なデータセットでの研究成果発表
