# 時系列クロス評価手法の詳細

## 5.1.1 時系列クロス評価の理論的背景

時系列クロス評価（Temporal Cross-Validation）は、時系列データにおける機械学習モデルの汎化性能を適切に評価するための重要な手法である。従来のランダム分割によるクロス評価では、時系列の依存関係を無視してしまうため、楽観的な性能評価が生じる可能性がある。本研究では、開発者継続予測という時系列予測問題において、モデルの真の汎化性能を正確に測定するため、時系列クロス評価を採用した。

## 5.1.2 スライディングウィンドウラベル設計の理論的根拠

### 5.1.2.1 従来手法の問題点

従来の累積ラベル（Cumulative Labels）では、将来の任意の時点での活動有無を予測していた。この手法には以下の問題がある：

1. **予測期間の曖昧性**: 「将来いつまでに活動するか」が不明確
2. **実用性の欠如**: 実際の運用では「特定期間内での継続確率」が重要
3. **評価指標の歪み**: 長期間の累積活動により、短期離脱者が見逃される

### 5.1.2.2 スライディングウィンドウラベルの設計原理

本研究で提案するスライディングウィンドウラベルは、以下の原理に基づいて設計された：

**非重複期間の設定**:

- 各ラベルは 3 ヶ月間の独立した期間を表す
- 期間間の重複を排除することで、各期間の独立性を保証
- ラベル期間：0-3 ヶ月、3-6 ヶ月、6-9 ヶ月、9-12 ヶ月

**二値分類問題の明確化**:

- 各期間内で 1 回以上の活動があれば継続（positive）
- 期間内で活動がなければ離脱（negative）
- 明確な判定基準により、予測タスクの定義を明確化

**実用性の向上**:

- 「3 ヶ月以内に継続する確率」という実用的な予測
- プロジェクト管理者にとって理解しやすい予測結果
- 定期的な予測更新による継続的なモニタリングが可能

## 5.1.3 クロス評価の実験設計

### 5.1.3.1 評価フレームワーク

本研究では、以下の評価フレームワークを採用した：

**訓練・評価期間の組み合わせ**:

- 訓練期間：0-3 ヶ月、3-6 ヶ月、6-9 ヶ月、9-12 ヶ月
- 評価期間：0-3 ヶ月、3-6 ヶ月、6-9 ヶ月、9-12 ヶ月
- 総組み合わせ数：16 パターン（4×4）

**評価指標の選択**:

- **AUC-ROC**: 全体的な分類性能の評価
- **AUC-PR**: 不均衡データにおける性能評価
- **Precision**: 偽陽性の抑制度合い
- **Recall**: 真陽性の検出率
- **F1-Score**: Precision と Recall の調和平均

### 5.1.3.2 汎化性能の評価方法

**期間内汎化（Within-Period Generalization）**:

- 同一期間での訓練・評価による性能
- モデルの基本的な学習能力の評価

**期間間汎化（Cross-Period Generalization）**:

- 異なる期間での訓練・評価による性能
- 時間的変化に対するモデルの頑健性の評価

**距離依存性能劣化（Distance-Dependent Performance Degradation）**:

- 訓練・評価期間の時間的距離と性能の関係
- モデルの時間的汎化限界の特定

## 5.1.4 実験の統計的妥当性

### 5.1.4.1 サンプルサイズの確保

各訓練・評価組み合わせにおいて、十分なサンプルサイズを確保するため：

- **最小サンプル数**: 各組み合わせで 1000 サンプル以上
- **クラス不均衡の考慮**: 継続・離脱の比率を記録
- **統計的有意性**: 各指標の信頼区間を計算

### 5.1.4.2 交差検証の妥当性

**時系列の独立性**:

- 訓練期間と評価期間の時間的分離
- データリークの防止

**評価の客観性**:

- 同一の評価指標による一貫した評価
- 複数の指標による多角的な性能評価

## 5.1.5 手法の学術的意義

### 5.1.5.1 時系列予測における新規性

本研究の時系列クロス評価手法は、以下の点で学術的に新規性を持つ：

1. **スライディングウィンドウラベルの提案**: 従来の累積ラベルに対する実用的な代替案
2. **開発者継続予測への適用**: ソフトウェア工学における時系列予測の新たな応用
3. **期間特異性の定量化**: 時間的変化がモデル性能に与える影響の定量的分析

### 5.1.5.2 実用性の向上

**プロジェクト管理への応用**:

- 定期的な継続予測によるリスク管理
- 開発者離脱の早期発見と対策

**モデル運用の最適化**:

- 最適な再訓練期間の特定
- 予測信頼性の時間的変化の理解

## 5.1.6 手法の限界と改善方向

### 5.1.6.1 現在の限界

**期間の固定**:

- 3 ヶ月固定期間による制約
- プロジェクト特性に応じた最適期間の探索が必要

**単一プロジェクト評価**:

- OpenStack Nova のみでの評価
- プロジェクト間での汎化性能の検証が必要

### 5.1.6.2 今後の改善方向

**適応的期間設定**:

- プロジェクト特性に応じた動的な期間調整
- データ駆動による最適期間の自動決定

**マルチプロジェクト評価**:

- 複数プロジェクトでの汎化性能検証
- プロジェクト特性と性能の関係分析

**リアルタイム予測**:

- オンライン学習による継続的な性能改善
- ストリーミングデータでの評価手法の開発

この時系列クロス評価手法により、開発者継続予測モデルの真の汎化性能を正確に評価し、実用的な予測システムの構築に必要な知見を得ることができる。
