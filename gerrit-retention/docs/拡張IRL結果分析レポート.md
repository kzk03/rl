# 拡張 IRL（Enhanced IRL）結果分析レポート

## 1. 実験概要

### 1.1 モデル仕様

- **状態特徴量**: 32 次元（通常 IRL の 9 次元から拡張）
- **行動特徴量**: 9 次元（通常 IRL の 4 次元から拡張）
- **ネットワーク構造**: 256 次元隠れ層、ドロップアウト 0.2
- **学習率**: 0.0001
- **シーケンス学習**: 有効

### 1.2 評価設定

- **プロジェクト**: Nova（OpenStack）
- **訓練期間**: 0-1m, 0-3m, 0-6m, 0-9m, 0-12m
- **評価期間**: 0-3m, 3-6m, 6-9m, 9-12m
- **評価指標**: AUC-ROC, AUC-PR, Precision, Recall, F1-Score

## 2. クロス評価結果

### 2.1 全体パフォーマンス

| 訓練ラベル | 評価期間 | AUC-ROC | AUC-PR | Precision | Recall | F1    | 継続率 |
| ---------- | -------- | ------- | ------ | --------- | ------ | ----- | ------ |
| 0-1m       | 0-3m     | 0.752   | 0.639  | 0.468     | 1.000  | 0.637 | 0.468  |
| 0-1m       | 3-6m     | 0.816   | 0.804  | 0.519     | 1.000  | 0.684 | 0.519  |
| 0-1m       | 6-9m     | 0.292   | 0.301  | 0.377     | 1.000  | 0.547 | 0.377  |
| 0-1m       | 9-12m    | 0.817   | 0.794  | 0.403     | 1.000  | 0.574 | 0.403  |
| 0-3m       | 0-3m     | 0.422   | 0.393  | 0.468     | 1.000  | 0.637 | 0.468  |
| 0-3m       | 3-6m     | 0.703   | 0.712  | 0.519     | 1.000  | 0.684 | 0.519  |
| 0-3m       | 6-9m     | 0.210   | 0.283  | 0.377     | 1.000  | 0.547 | 0.377  |
| 0-3m       | 9-12m    | 0.613   | 0.525  | 0.403     | 1.000  | 0.574 | 0.403  |
| 0-6m       | 0-3m     | 0.298   | 0.389  | 0.468     | 1.000  | 0.637 | 0.468  |
| 0-6m       | 3-6m     | 0.216   | 0.436  | 0.519     | 1.000  | 0.684 | 0.519  |
| 0-6m       | 6-9m     | 0.411   | 0.306  | 0.377     | 1.000  | 0.547 | 0.377  |
| 0-6m       | 9-12m    | 0.185   | 0.262  | 0.403     | 1.000  | 0.574 | 0.403  |
| 0-9m       | 0-3m     | 0.297   | 0.422  | 0.468     | 1.000  | 0.637 | 0.468  |
| 0-9m       | 3-6m     | 0.138   | 0.343  | 0.519     | 1.000  | 0.684 | 0.519  |
| 0-9m       | 6-9m     | 0.607   | 0.399  | 0.377     | 1.000  | 0.547 | 0.377  |
| 0-9m       | 9-12m    | 0.567   | 0.440  | 0.408     | 1.000  | 0.579 | 0.403  |
| 0-12m      | 0-3m     | 0.228   | 0.332  | 0.468     | 1.000  | 0.637 | 0.468  |
| 0-12m      | 3-6m     | 0.765   | 0.740  | 0.519     | 1.000  | 0.684 | 0.519  |
| 0-12m      | 6-9m     | 0.820   | 0.792  | 0.377     | 1.000  | 0.548 | 0.377  |
| 0-12m      | 9-12m    | 0.663   | 0.521  | 0.403     | 1.000  | 0.574 | 0.403  |

### 2.2 パフォーマンス分析

**最高パフォーマンス:**

- **AUC-ROC**: 0.820 (0-12m 訓練 → 6-9m 評価)
- **AUC-PR**: 0.804 (0-1m 訓練 → 3-6m 評価)

**パフォーマンスパターン:**

1. **短期訓練（0-1m）**: 直近の評価期間（0-3m, 3-6m）で良好な性能
2. **長期訓練（0-12m）**: 中長期の評価期間（3-6m, 6-9m）で良好な性能
3. **中期訓練（0-6m, 0-9m）**: 全体的に低い性能

## 3. 特徴量重要度分析

### 3.1 状態特徴量（32 次元）

#### 3.1.1 0-3m 訓練モデルでの分析

**正の影響（継続に寄与）:**

- `activity_freq_30d` (+0.006): 30 日間の活動頻度が最も重要
- その他 15 特徴量: 微小な正の影響

**負の影響（離脱に寄与）:**

- 17 特徴量が微小な負の影響

#### 3.1.2 0-12m 訓練モデルでの分析

**正の影響（継続に寄与）:**

- `num_active_collaborations_30d` (+0.000092): 30 日間のアクティブ協力者数
- `collaboration_diversity` (+0.000084): 協力の多様性
- `activity_freq_7d` (+0.000084): 7 日間の活動頻度
- `file_type_diversity` (+0.000080): ファイルタイプの多様性
- `cross_project_ratio` (+0.000053): クロスプロジェクト比率

**負の影響（離脱に寄与）:**

- `activity_freq_30d` (-0.001783): 30 日間の活動頻度（長期訓練では負の影響）
- `total_files_touched` (-0.000064): 総ファイル触接数
- `concentration_score` (-0.000039): 集中スコア

### 3.2 行動特徴量（9 次元）

#### 3.2.1 0-3m 訓練モデルでの分析

**正の影響（継続に寄与）:**

- `change_size` (+0.000299): 変更サイズ
- `complexity` (+0.000236): 複雑度
- `collaboration` (+0.000105): 協力度

**負の影響（離脱に寄与）:**

- `timestamp_age` (-0.000596): 時間経過（最も強い負の影響）
- `quality` (-0.000557): 品質
- `response_latency` (-0.000420): 応答遅延

#### 3.2.2 0-12m 訓練モデルでの分析

**正の影響（継続に寄与）:**

- `timestamp_age` (+0.015713): 時間経過（長期訓練では正の影響に転換）
- `action_type` (+0.001676): 行動タイプ
- `complexity` (+0.000895): 複雑度
- `intensity` (+0.000324): 強度

**負の影響（離脱に寄与）:**

- `change_size` (-0.003257): 変更サイズ
- `response_latency` (-0.002204): 応答遅延
- `files_count` (-0.002146): ファイル数

## 4. 重要な発見

### 4.1 訓練期間による特徴量重要度の変化

1. **活動頻度の逆転現象**:

   - 短期訓練: `activity_freq_30d`が正の影響
   - 長期訓練: `activity_freq_30d`が負の影響

2. **時間経過の逆転現象**:

   - 短期訓練: `timestamp_age`が負の影響
   - 長期訓練: `timestamp_age`が正の影響

3. **協力特徴量の重要性**:
   - 長期訓練では協力関連特徴量が重要
   - `num_active_collaborations_30d`, `collaboration_diversity`が上位

### 4.2 パフォーマンスの特徴

1. **Recall = 1.0**: 全モデルで完璧な再現率（離脱者を 100%検出）
2. **Precision の変動**: 0.377-0.519 の範囲で変動
3. **F1-Score**: 0.547-0.684 の範囲で変動

### 4.3 実用的示唆

1. **短期予測**: 0-1m 訓練モデルが 0-3m, 3-6m 評価で良好
2. **長期予測**: 0-12m 訓練モデルが 3-6m, 6-9m 評価で良好
3. **特徴量設計**: 協力関連特徴量の重要性が確認された

## 5. 結論

拡張 IRL モデルは、32 次元の状態特徴量と 9 次元の行動特徴量により、通常 IRL モデルを上回る予測性能を実現した。特に、協力関連特徴量と活動パターン特徴量が継続予測において重要な役割を果たすことが明らかになった。訓練期間の長さによって特徴量重要度が変化する現象も興味深い発見である。
