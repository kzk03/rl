# ã‚¹ãƒ©ã‚¤ãƒ‡ã‚£ãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IRL ã‚¯ãƒ­ã‚¹è©•ä¾¡ å†å®Ÿè¡Œè¨˜éŒ²

## ğŸ“… å®Ÿè¡Œæ—¥æ™‚
2025-10-27 05:28:49

## ğŸ› ä¿®æ­£å†…å®¹

### ãƒã‚°
ãƒ¢ãƒ‡ãƒ«ã®ä¿å­˜/èª­ã¿è¾¼ã¿ãŒæ­£ã—ãè¡Œã‚ã‚Œã¦ã„ãªã‹ã£ãŸ
- è©•ä¾¡æ™‚ã«è¨“ç·´æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„
- æ–°è¦ä½œæˆã—ãŸãƒ©ãƒ³ãƒ€ãƒ ãªé‡ã¿ã®ãƒ¢ãƒ‡ãƒ«ã§äºˆæ¸¬ã—ã¦ã„ãŸ

### ä¿®æ­£
1. `train_irl_sliding_window.py:464`
   ```python
   # ä¿®æ­£å‰
   irl_system = RetentionIRLSystem(config)
   irl_system.load_model(args.model)
   
   # ä¿®æ­£å¾Œ
   irl_system = RetentionIRLSystem.load_model(args.model)
   ```

2. `train_irl_sliding_window.py:491`
   ```python
   # ä¿®æ­£å‰
   torch.save(irl_system.network.state_dict(), model_path)
   
   # ä¿®æ­£å¾Œ
   irl_system.save_model(str(model_path))
   ```

## ğŸ¯ å®Ÿè¡Œå†…å®¹

### novaå˜ä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `outputs/sliding_cross_eval_nova`
- **è¨“ç·´æœŸé–“**: 2021-01-01 ï½ 2023-01-01
- **è©•ä¾¡æœŸé–“**: 2023-01-01 ï½ 2024-01-01
- **è¨“ç·´ãƒ©ãƒ™ãƒ«**: 0-3m, 3-6m, 6-9m, 9-12m (4ç¨®é¡)
- **è©•ä¾¡æœŸé–“**: 0-3m, 3-6m, 6-9m, 9-12m (4ç¨®é¡)
- **åˆè¨ˆ**: 4è¨“ç·´ Ã— 4è©•ä¾¡ = 16å®Ÿè¡Œ
- **ã‚¨ãƒãƒƒã‚¯æ•°**: 20
- **æœ€å°æ´»å‹•æ•°**: 1

### å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
```bash
rm -rf outputs/sliding_cross_eval_nova
caffeinate -s -w $$ bash scripts/training/irl/run_sliding_cross_evaluation_nova.sh
```

### ãƒ­ã‚°
- ãƒ¡ã‚¤ãƒ³ãƒ­ã‚°: `outputs/sliding_cross_eval_nova/logs/main.log`
- å®Ÿè¡Œãƒ­ã‚°: `/tmp/sliding_nova_rerun.log`

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹æ”¹å–„

### ä¿®æ­£å‰ï¼ˆãƒã‚°ã‚ã‚Šï¼‰

**è¨“ç·´ç›´å¾Œã®è©•ä¾¡**:
```
train_0-3m/metrics.json:
  Precision: 0.923
  Recall: 0.522
  äºˆæ¸¬ç¢ºç‡: 0.01-0.82 (åˆ†æ•£ã‚ã‚Š)
```

**ãƒ¢ãƒ‡ãƒ«å†èª­ã¿è¾¼ã¿å¾Œã®è©•ä¾¡**:
```
train_0-3m/eval_0-3m/metrics.json:
  Precision: 0.275 (ç¶™ç¶šç‡ã¨åŒã˜)
  Recall: 1.000 (å…¨å“¡ç¶™ç¶šã¨äºˆæ¸¬)
  äºˆæ¸¬ç¢ºç‡: 0.471-0.473 (ã»ã¼å›ºå®š)
  â†’ ãƒ¢ãƒ‡ãƒ«ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„
```

### ä¿®æ­£å¾Œï¼ˆæœŸå¾…ï¼‰

**è¨“ç·´ç›´å¾Œã®è©•ä¾¡**:
```
train_0-3m/metrics.json:
  Precision: 0.6-0.9
  Recall: 0.5-0.7
  äºˆæ¸¬ç¢ºç‡: 0.0-0.8 (åˆ†æ•£ã‚ã‚Š)
```

**ãƒ¢ãƒ‡ãƒ«å†èª­ã¿è¾¼ã¿å¾Œã®è©•ä¾¡**:
```
train_0-3m/eval_0-3m/metrics.json:
  Precision: 0.6-0.9 (è¨“ç·´æ™‚ã¨åŒæ§˜)
  Recall: 0.5-0.7 (è¨“ç·´æ™‚ã¨åŒæ§˜)
  äºˆæ¸¬ç¢ºç‡: 0.0-0.8 (è¨“ç·´æ™‚ã¨åŒæ§˜)
  â†’ ãƒ¢ãƒ‡ãƒ«ãŒæ­£å¸¸ã«æ©Ÿèƒ½
```

## â±ï¸ äºˆæƒ³å®Ÿè¡Œæ™‚é–“

- 1ãƒ¢ãƒ‡ãƒ«ã®è¨“ç·´: ç´„10-15åˆ†
- 1ãƒ¢ãƒ‡ãƒ«ã®è©•ä¾¡: ç´„1-2åˆ†
- åˆè¨ˆ: 4è¨“ç·´ Ã— 15åˆ† + 16è©•ä¾¡ Ã— 2åˆ† = ç´„90åˆ†

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… novaå˜ä¸€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†å®Ÿè¡Œï¼ˆå®Ÿè¡Œä¸­ï¼‰
2. â¬œ è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰ˆã®å†å®Ÿè¡Œ
3. â¬œ ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ç”Ÿæˆ
4. â¬œ çµæœã®æ¯”è¼ƒåˆ†æ

## ğŸ” ç¢ºèªã‚³ãƒãƒ³ãƒ‰

### é€²æ—ç¢ºèª
```bash
# ãƒ¡ã‚¤ãƒ³ãƒ­ã‚°
tail -f outputs/sliding_cross_eval_nova/logs/main.log

# å®Ÿè¡Œãƒ­ã‚°
tail -f /tmp/sliding_nova_rerun.log

# å®Œäº†ãƒã‚§ãƒƒã‚¯
ls -la outputs/sliding_cross_eval_nova/train_*/eval_*/metrics.json
```

### çµæœç¢ºèª
```bash
# ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
uv run python scripts/training/irl/summarize_full_cross_evaluation.py outputs/sliding_cross_eval_nova

# ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ç”Ÿæˆ
uv run python scripts/analysis/visualize_cross_evaluation.py outputs/sliding_cross_eval_nova
```

### ä¿®æ­£å‰å¾Œã®æ¯”è¼ƒ
```bash
# äºˆæ¸¬ç¢ºç‡ã®åˆ†å¸ƒç¢ºèª
uv run python3 << 'PYTHON'
import pandas as pd
import glob

for path in glob.glob('outputs/sliding_cross_eval_nova/train_*/eval_*/predictions.csv'):
    df = pd.read_csv(path)
    print(f"\n{path}:")
    print(f"  äºˆæ¸¬ç¢ºç‡: {df['predicted_prob'].min():.4f} - {df['predicted_prob'].max():.4f}")
    print(f"  æ¨™æº–åå·®: {df['predicted_prob'].std():.4f}")
PYTHON
```

## ğŸ“¢ æ³¨æ„äº‹é …

- **è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰ˆ**ï¼ˆ`outputs/sliding_cross_eval`ï¼‰ã‚‚åŒã˜ãƒã‚°ãŒã‚ã‚‹ãŸã‚å†å®Ÿè¡ŒãŒå¿…è¦
- caffeinate ã§å®Ÿè¡Œä¸­ãªã®ã§ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¯ã‚¹ãƒªãƒ¼ãƒ—ã—ãªã„
- å®Ÿè¡Œå®Œäº†ã¾ã§ç´„90åˆ†

---

å®Ÿè¡Œé–‹å§‹: 2025-10-27 05:28:49
