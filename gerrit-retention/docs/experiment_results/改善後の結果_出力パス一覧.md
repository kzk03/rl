# æ”¹å–„å¾Œã®çµæœ - å‡ºåŠ›ãƒ‘ã‚¹ä¸€è¦§

## ğŸ“Š æ¦‚è¦

ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯å•é¡Œã¨Recallåé‡å•é¡Œã‚’è§£æ±ºã—ãŸå¾Œã®è©•ä¾¡çµæœã®å‡ºåŠ›ãƒ‘ã‚¹ä¸€è¦§ã§ã™ã€‚

**åŸºæº–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª**: `outputs/review_acceptance_cross_eval_nova/`

**æ”¹å–„å†…å®¹**:
- âœ… è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§é–¾å€¤æ±ºå®šï¼ˆãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯è§£æ¶ˆï¼‰
- âœ… F1ã‚¹ã‚³ã‚¢æœ€å¤§åŒ–ã«ã‚ˆã‚‹é–¾å€¤æ±ºå®šï¼ˆRecallåé‡è§£æ¶ˆï¼‰
- âœ… æœ€é©ãªãƒ¢ãƒ‡ãƒ«è¨­å®šï¼ˆhidden_dim=128, dropout=0.2, learning_rate=0.0001ï¼‰

**çµæœ**:
- å¹³å‡ AUC-PR: 0.656ï¼ˆä¿®æ­£å‰: 0.283, **+132%**ï¼‰
- å¹³å‡ AUC-ROC: 0.754ï¼ˆä¿®æ­£å‰: 0.296, **+155%**ï¼‰
- å¹³å‡ F1: 0.636ï¼ˆä¿®æ­£å‰: 0.517ï¼‰

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
outputs/review_acceptance_cross_eval_nova/
â”œâ”€â”€ matrix_*.csv                              # ãƒãƒˆãƒªã‚¯ã‚¹CSVï¼ˆ5ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”œâ”€â”€ heatmaps/                                 # ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ç”»åƒ
â”‚   â”œâ”€â”€ heatmap_combined_all_metrics.png     # çµ±åˆãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
â”‚   â”œâ”€â”€ heatmap_F1_score.png                 # F1ã‚¹ã‚³ã‚¢ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
â”‚   â””â”€â”€ diagonal_comparison.png               # å¯¾è§’ç·šæ¯”è¼ƒãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
â”œâ”€â”€ average_feature_importance/               # å¹³å‡ç‰¹å¾´é‡é‡è¦åº¦
â”‚   â”œâ”€â”€ gradient_importance.png
â”‚   â”œâ”€â”€ gradient_importance_combined.png
â”‚   â””â”€â”€ gradient_importance_average.json
â”œâ”€â”€ train_0-3m/                               # è¨“ç·´æœŸé–“ï¼š0-3ãƒ¶æœˆ
â”‚   â”œâ”€â”€ irl_model.pt                         # è¨“ç·´æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ optimal_threshold.json               # æœ€é©é–¾å€¤ï¼ˆè¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§æ±ºå®šï¼‰
â”‚   â”œâ”€â”€ metrics.json                         # è©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆå¯¾è§’ç·šï¼‰
â”‚   â”œâ”€â”€ predictions.csv                      # äºˆæ¸¬çµæœï¼ˆå¯¾è§’ç·šï¼‰
â”‚   â”œâ”€â”€ eval_trajectories.pkl                # è©•ä¾¡è»Œè·¡ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ feature_importance/                  # ç‰¹å¾´é‡é‡è¦åº¦
â”‚   â”‚   â”œâ”€â”€ gradient_importance.png
â”‚   â”‚   â””â”€â”€ gradient_importance_combined.png
â”‚   â”œâ”€â”€ eval_0-3m/                           # å¯¾è§’ç·šè©•ä¾¡
â”‚   â”‚   â”œâ”€â”€ metrics.json
â”‚   â”‚   â”œâ”€â”€ predictions.csv
â”‚   â”‚   â””â”€â”€ eval_trajectories.pkl
â”‚   â”œâ”€â”€ eval_3-6m/                           # ã‚¯ãƒ­ã‚¹è©•ä¾¡
â”‚   â”‚   â”œâ”€â”€ metrics.json
â”‚   â”‚   â”œâ”€â”€ predictions.csv
â”‚   â”‚   â””â”€â”€ eval_trajectories.pkl
â”‚   â”œâ”€â”€ eval_6-9m/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ eval_9-12m/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ train_3-6m/                               # è¨“ç·´æœŸé–“ï¼š3-6ãƒ¶æœˆ
â”‚   â””â”€â”€ ï¼ˆåŒã˜æ§‹é€ ï¼‰
â”œâ”€â”€ train_6-9m/                               # è¨“ç·´æœŸé–“ï¼š6-9ãƒ¶æœˆ
â”‚   â””â”€â”€ ï¼ˆåŒã˜æ§‹é€ ï¼‰
â””â”€â”€ train_9-12m/                              # è¨“ç·´æœŸé–“ï¼š9-12ãƒ¶æœˆ
    â””â”€â”€ ï¼ˆåŒã˜æ§‹é€ ï¼‰
```

---

## ğŸ“„ ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°

### 1. ãƒãƒˆãƒªã‚¯ã‚¹CSVï¼ˆãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«å | èª¬æ˜ | ã‚µãƒ³ãƒ—ãƒ«å€¤ |
|-----------|------|-----------|
| `matrix_AUC_PR.csv` | AUC-PRãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆ4Ã—4ï¼‰ | 0.579ï½0.766 |
| `matrix_AUC_ROC.csv` | AUC-ROCãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆ4Ã—4ï¼‰ | 0.693ï½0.820 |
| `matrix_PRECISION.csv` | Precisionãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆ4Ã—4ï¼‰ | 0.500ï½0.769 |
| `matrix_RECALL.csv` | Recallãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆ4Ã—4ï¼‰ | 0.556ï½1.000 |
| `matrix_F1_SCORE.csv` | F1ã‚¹ã‚³ã‚¢ãƒãƒˆãƒªã‚¯ã‚¹ï¼ˆ4Ã—4ï¼‰ | 0.581ï½0.727 |

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```csv
,0-3m,3-6m,6-9m,9-12m
0-3m,0.579,0.603,0.595,0.602
3-6m,0.711,0.766,0.722,0.698
6-9m,0.684,0.739,0.742,0.715
9-12m,0.519,0.574,0.548,0.536
```

### 2. ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ç”»åƒï¼ˆheatmaps/ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ«å | èª¬æ˜ | ã‚µã‚¤ã‚º |
|-----------|------|--------|
| `heatmap_combined_all_metrics.png` | 4ãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ï¼ˆ2Ã—2ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰ | 14Ã—12ã‚¤ãƒ³ãƒ, 300dpi |
| `heatmap_F1_score.png` | F1ã‚¹ã‚³ã‚¢å˜ç‹¬ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ— | 8Ã—7ã‚¤ãƒ³ãƒ, 300dpi |
| `diagonal_comparison.png` | å¯¾è§’ç·šè©•ä¾¡ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆï¼ˆæœŸé–“åˆ¥æ¯”è¼ƒï¼‰ | 10Ã—6ã‚¤ãƒ³ãƒ, 300dpi |

**æ¨å¥¨**:
- è«–æ–‡ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ: `heatmap_combined_all_metrics.png`
- ãƒ—ãƒ¬ã‚¼ãƒ³: `diagonal_comparison.png`

### 3. è¨“ç·´æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ï¼ˆtrain_*/ï¼‰

å„è¨“ç·´æœŸé–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ï¼š

| ãƒ•ã‚¡ã‚¤ãƒ«å | èª¬æ˜ | ç”¨é€” |
|-----------|------|------|
| `irl_model.pt` | PyTorchè¨“ç·´æ¸ˆã¿ãƒ¢ãƒ‡ãƒ« | æ¨è«–ãƒ»è»¢ç§»å­¦ç¿’ |
| `optimal_threshold.json` | è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§æ±ºå®šã—ãŸæœ€é©é–¾å€¤ | æ¨è«–æ™‚ã®é–¾å€¤ |
| `metrics.json` | å¯¾è§’ç·šè©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | æ€§èƒ½è©•ä¾¡ |
| `predictions.csv` | å¯¾è§’ç·šè©•ä¾¡ã®äºˆæ¸¬çµæœ | è©³ç´°åˆ†æ |
| `eval_trajectories.pkl` | è©•ä¾¡è»Œè·¡ãƒ‡ãƒ¼ã‚¿ | ç‰¹å¾´é‡åˆ†æ |

**optimal_threshold.json ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```json
{
  "threshold": 0.4562,
  "precision": 0.619,
  "recall": 0.619,
  "f1": 0.619,
  "positive_rate": 0.35,
  "method": "f1_maximization_on_train_data",
  "train_prediction_stats": {
    "min": 0.4288,
    "max": 0.4926,
    "mean": 0.4665,
    "std": 0.0151,
    "median": 0.4650
  }
}
```

### 4. è©•ä¾¡çµæœï¼ˆtrain_*/eval_*/ï¼‰

å„è©•ä¾¡æœŸé–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ï¼š

| ãƒ•ã‚¡ã‚¤ãƒ«å | èª¬æ˜ | ç”¨é€” |
|-----------|------|------|
| `metrics.json` | è©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | æ€§èƒ½è©•ä¾¡ |
| `predictions.csv` | äºˆæ¸¬çµæœè©³ç´° | ã‚¨ãƒ©ãƒ¼åˆ†æ |
| `eval_trajectories.pkl` | è©•ä¾¡è»Œè·¡ãƒ‡ãƒ¼ã‚¿ | ç‰¹å¾´é‡åˆ†æ |

**metrics.json ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```json
{
  "auc_roc": 0.7168,
  "auc_pr": 0.5789,
  "optimal_threshold": 0.4562,
  "threshold_source": "train_data",
  "precision": 0.5652,
  "recall": 0.6190,
  "f1_score": 0.5909,
  "positive_count": 21,
  "negative_count": 39,
  "total_count": 60,
  "eval_optimal_threshold": 0.4532,
  "eval_optimal_f1": 0.5909,
  "prediction_stats": {
    "min": 0.4298,
    "max": 0.4926,
    "mean": 0.4665,
    "std": 0.0150,
    "median": 0.4661
  }
}
```

**predictions.csv ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```csv
reviewer_email,predicted_prob,true_label,history_request_count,history_acceptance_rate,eval_request_count,eval_accepted_count,eval_rejected_count,predicted_binary
user1@example.com,0.4563,1,1372,0.0036,175,1,174,1
user2@example.com,0.4636,1,905,0.3006,89,21,68,1
...
```

### 5. ç‰¹å¾´é‡é‡è¦åº¦ï¼ˆfeature_importance/ï¼‰

å„è¨“ç·´æœŸé–“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŠã‚ˆã³å¹³å‡ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ï¼š

| ãƒ•ã‚¡ã‚¤ãƒ«å | èª¬æ˜ | ã‚µã‚¤ã‚º |
|-----------|------|--------|
| `gradient_importance.png` | å‹¾é…ãƒ™ãƒ¼ã‚¹ç‰¹å¾´é‡é‡è¦åº¦ï¼ˆçŠ¶æ…‹ã®ã¿ï¼‰ | 10Ã—6ã‚¤ãƒ³ãƒ, 300dpi |
| `gradient_importance_combined.png` | çŠ¶æ…‹ï¼‹è¡Œå‹•ã®çµ±åˆã‚°ãƒ©ãƒ• | 12Ã—6ã‚¤ãƒ³ãƒ, 300dpi |
| `gradient_importance_average.json` | å¹³å‡é‡è¦åº¦ãƒ‡ãƒ¼ã‚¿ï¼ˆå¹³å‡ã®ã¿ï¼‰ | JSON |

**gradient_importance_average.json ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:
```json
{
  "state": {
    "ç·ãƒ¬ãƒ“ãƒ¥ãƒ¼æ•°": 0.016513,
    "ç·ã‚³ãƒŸãƒƒãƒˆæ•°": 0.007953,
    "æœ€è¿‘ã®æ´»å‹•é »åº¦": 0.007642,
    "å”åŠ›ã‚¹ã‚³ã‚¢": 0.004115,
    "ãƒ¬ãƒ“ãƒ¥ãƒ¼è² è·": 0.001054,
    "æœ€è¿‘ã®å—è«¾ç‡": -0.000113,
    "çµŒé¨“æ—¥æ•°": -0.002631,
    "æ´»å‹•ãƒˆãƒ¬ãƒ³ãƒ‰": -0.006419,
    "ã‚³ãƒ¼ãƒ‰å“è³ªã‚¹ã‚³ã‚¢": -0.007848,
    "å¹³å‡æ´»å‹•é–“éš”": -0.010681
  },
  "action": {
    "å”åŠ›åº¦": 0.013102,
    "å¼·åº¦ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ•°ï¼‰": 0.008296,
    "å¿œç­”é€Ÿåº¦": 0.002690,
    "ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦æ¨¡ï¼ˆè¡Œæ•°ï¼‰": -0.003400
  }
}
```

---

## ğŸ¯ é‡è¦ãªçµæœãƒ•ã‚¡ã‚¤ãƒ«

### è«–æ–‡ãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”¨

1. **ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ï¼ˆçµ±åˆï¼‰**:
   - `heatmaps/heatmap_combined_all_metrics.png`
   - 4ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆAUC-PR, AUC-ROC, Precision, Recallï¼‰ã‚’ä¸€è¦§

2. **å¯¾è§’ç·šè©•ä¾¡çµæœ**:
   - `train_0-3m/eval_0-3m/metrics.json`
   - `train_3-6m/eval_3-6m/metrics.json`
   - `train_6-9m/eval_6-9m/metrics.json`
   - `train_9-12m/eval_9-12m/metrics.json`

3. **å¹³å‡ç‰¹å¾´é‡é‡è¦åº¦**:
   - `average_feature_importance/gradient_importance_combined.png`
   - `average_feature_importance/gradient_importance_average.json`

### ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ç”¨

1. **å¯¾è§’ç·šæ¯”è¼ƒãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ**:
   - `heatmaps/diagonal_comparison.png`
   - æœŸé–“åˆ¥ã®5ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä¸¦ã¹ã¦æ¯”è¼ƒ

2. **F1ã‚¹ã‚³ã‚¢ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—**:
   - `heatmaps/heatmap_F1_score.png`
   - F1ã‚¹ã‚³ã‚¢ã®ã¿ã‚’ã‚¯ãƒªã‚¢ã«è¡¨ç¤º

### ãƒ‡ãƒãƒƒã‚°ãƒ»è©³ç´°åˆ†æç”¨

1. **è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã®é–¾å€¤æƒ…å ±**:
   - `train_*/optimal_threshold.json`
   - è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§ã®äºˆæ¸¬ç¢ºç‡åˆ†å¸ƒã¨F1æ€§èƒ½

2. **äºˆæ¸¬çµæœè©³ç´°**:
   - `train_*/eval_*/predictions.csv`
   - å„ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã®äºˆæ¸¬ç¢ºç‡ã¨çœŸã®ãƒ©ãƒ™ãƒ«

3. **è©•ä¾¡è»Œè·¡ãƒ‡ãƒ¼ã‚¿**:
   - `train_*/eval_*/eval_trajectories.pkl`
   - Pythonã§èª­ã¿è¾¼ã‚“ã§ç‰¹å¾´é‡åˆ†æå¯èƒ½

---

## ğŸ“ˆ å¯¾è§’ç·šè©•ä¾¡çµæœã‚µãƒãƒªãƒ¼

| æœŸé–“ | AUC-PR | AUC-ROC | Precision | Recall | F1 | ãƒ‘ã‚¹ |
|------|--------|---------|-----------|--------|-----|------|
| 0-3m | 0.579 | 0.717 | 0.565 | 0.619 | 0.591 | `train_0-3m/eval_0-3m/` |
| 3-6m | **0.766** | **0.820** | **0.769** | 0.556 | **0.645** | `train_3-6m/eval_3-6m/` |
| 6-9m | 0.742 | 0.785 | 0.500 | 0.692 | 0.581 | `train_6-9m/eval_6-9m/` |
| 9-12m | 0.536 | 0.693 | 0.571 | 1.000 | 0.727 | `train_9-12m/eval_9-12m/` |
| **å¹³å‡** | **0.656** | **0.754** | **0.601** | **0.717** | **0.636** | - |

**Best Performance**: 3-6mæœŸé–“

---

## ğŸ” ç‰¹å¾´é‡é‡è¦åº¦ã‚µãƒãƒªãƒ¼

### çŠ¶æ…‹ç‰¹å¾´é‡ï¼ˆTop 5ï¼‰

| ç‰¹å¾´é‡ | é‡è¦åº¦ | è§£é‡ˆ |
|--------|--------|------|
| ç·ãƒ¬ãƒ“ãƒ¥ãƒ¼æ•° | +0.0165 | ãƒ¬ãƒ“ãƒ¥ãƒ¼çµŒé¨“ãŒç¶™ç¶šã®éµ âœ¨ |
| ç·ã‚³ãƒŸãƒƒãƒˆæ•° | +0.0080 | é–‹ç™ºæ´»å‹•ã®å¤šã•ãŒé‡è¦ |
| æœ€è¿‘ã®æ´»å‹•é »åº¦ | +0.0076 | ç›´è¿‘ã®æ´»å‹•ãŒç¶™ç¶šã‚’ä¿ƒé€² |
| å”åŠ›ã‚¹ã‚³ã‚¢ | +0.0041 | ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒç¶™ç¶šã«å¯„ä¸ |
| ãƒ¬ãƒ“ãƒ¥ãƒ¼è² è· | +0.0011 | é©åº¦ãªè² è·ãŒç¶™ç¶šã‚’æ”¯ãˆã‚‹ |

### è¡Œå‹•ç‰¹å¾´é‡ï¼ˆå…¨4ç¨®ï¼‰

| ç‰¹å¾´é‡ | é‡è¦åº¦ | è§£é‡ˆ |
|--------|--------|------|
| å”åŠ›åº¦ | +0.0131 | å”åŠ›çš„ãªè¡Œå‹•ãŒæœ€é‡è¦ âœ¨ |
| å¼·åº¦ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«æ•°ï¼‰ | +0.0083 | å¤‰æ›´è¦æ¨¡ãŒç¶™ç¶šã®æŒ‡æ¨™ |
| å¿œç­”é€Ÿåº¦ | +0.0027 | ç´ æ—©ã„å¯¾å¿œãŒã‚„ã‚„é‡è¦ |
| ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦æ¨¡ï¼ˆè¡Œæ•°ï¼‰ | -0.0034 | å¤§è¦æ¨¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯ç¶™ç¶šã‚’é˜»å®³ |

**ãƒ‘ã‚¹**: `average_feature_importance/gradient_importance_average.json`

---

## ğŸ”§ çµæœã®èª­ã¿è¾¼ã¿æ–¹æ³•

### Python

```python
import json
import pandas as pd
from pathlib import Path

# ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’èª­ã¿è¾¼ã¿
base = Path('outputs/review_acceptance_cross_eval_nova')
with open(base / 'train_3-6m' / 'eval_3-6m' / 'metrics.json') as f:
    metrics = json.load(f)

print(f"AUC-PR: {metrics['auc_pr']:.3f}")
print(f"é–¾å€¤: {metrics['optimal_threshold']:.4f}")
print(f"é–¾å€¤æ±ºå®šæ–¹æ³•: {metrics['threshold_source']}")

# äºˆæ¸¬çµæœã‚’èª­ã¿è¾¼ã¿
predictions = pd.read_csv(base / 'train_3-6m' / 'eval_3-6m' / 'predictions.csv')
print(predictions.head())

# ãƒãƒˆãƒªã‚¯ã‚¹CSVã‚’èª­ã¿è¾¼ã¿
auc_pr_matrix = pd.read_csv(base / 'matrix_AUC_PR.csv', index_col=0)
print(auc_pr_matrix)

# ç‰¹å¾´é‡é‡è¦åº¦ã‚’èª­ã¿è¾¼ã¿
with open(base / 'average_feature_importance' / 'gradient_importance_average.json') as f:
    importance = json.load(f)
print("æœ€é‡è¦ç‰¹å¾´é‡ï¼ˆçŠ¶æ…‹ï¼‰:", max(importance['state'], key=importance['state'].get))
print("æœ€é‡è¦ç‰¹å¾´é‡ï¼ˆè¡Œå‹•ï¼‰:", max(importance['action'], key=importance['action'].get))
```

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³

```bash
# ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’è¡¨ç¤º
cat outputs/review_acceptance_cross_eval_nova/train_3-6m/eval_3-6m/metrics.json | jq

# äºˆæ¸¬çµæœã‚’ç¢ºèª
head outputs/review_acceptance_cross_eval_nova/train_3-6m/eval_3-6m/predictions.csv

# ç”»åƒã‚’é–‹ã
open outputs/review_acceptance_cross_eval_nova/heatmaps/heatmap_combined_all_metrics.png
open outputs/review_acceptance_cross_eval_nova/average_feature_importance/gradient_importance_combined.png
```

---

## ğŸ“Š æ¯”è¼ƒï¼šä¿®æ­£å‰ vs ä¿®æ­£å¾Œ

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | ä¿®æ­£å‰ | ä¿®æ­£å¾Œ | æ”¹å–„ |
|-----------|--------|--------|------|
| å¹³å‡ AUC-PR | 0.283 | **0.656** | **+132%** ğŸš€ |
| å¹³å‡ AUC-ROC | 0.296 | **0.754** | **+155%** ğŸš€ |
| å¹³å‡ Precision | 0.349 | **0.601** | +72% |
| å¹³å‡ Recall | 1.000 | **0.717** | ãƒãƒ©ãƒ³ã‚¹æ”¹å–„ âœ… |
| å¹³å‡ F1 | 0.517 | **0.636** | +23% |

**ä¿®æ­£å†…å®¹**:
1. è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§é–¾å€¤æ±ºå®šï¼ˆãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯è§£æ¶ˆï¼‰
2. F1æœ€å¤§åŒ–ã«ã‚ˆã‚‹é–¾å€¤æ±ºå®šï¼ˆRecallåé‡è§£æ¶ˆï¼‰
3. æœ€é©ãªãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆdropout=0.2, learning_rate=0.0001ï¼‰

---

## ğŸ“… ä½œæˆæ—¥

2025å¹´10æœˆ31æ—¥

## ğŸ‘¤ ä½œæˆè€…

AI Assistant (Claude Sonnet 4.5)
