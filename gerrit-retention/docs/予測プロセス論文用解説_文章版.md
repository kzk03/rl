# 予測プロセスの詳細解説

## 4.1 予測対象の定義

本研究では、開発者の継続確率を予測対象とする。継続確率は 0.0 から 1.0 の範囲で表現され、0.0 に近い値は開発者がプロジェクトから離脱する可能性が高いことを示し、1.0 に近い値は開発者がプロジェクトに継続して参加する可能性が高いことを示す。この予測により、プロジェクト管理者は開発者の離脱リスクを定量的に評価し、適切な対策を講じることが可能となる。

## 4.2 予測に用いる特徴量

### 4.2.1 状態特徴量（State Features）

開発者の現在の状態を表す 9 次元の特徴量を抽出する。これらの特徴量は、開発者の経験、活動履歴、協力行動を包括的に表現する。

基本情報特徴量として、プロジェクト初回参加日から現在までの経過日数である経験日数、これまでに実行したコミットの総数である累積コミット数、これまでに実施したレビューの総数である累積レビュー数、現在参加しているプロジェクトの数である参加プロジェクト数が含まれる。

活動パターン特徴量として、過去 30 日間における活動日数の割合である最近の活動頻度、連続する活動間の平均的な時間間隔である平均活動間隔、最近 30 日間と過去 30-60 日間の活動量の比較である活動トレンドが含まれる。

協力・品質特徴量として、レビューやマージ等の協力活動が全活動に占める割合である協力スコア、コミットメッセージにおける品質関連キーワード（test、fix、refactor 等）の出現頻度であるコード品質スコアが含まれる。

### 4.2.2 行動特徴量（Action Features）

開発者の最近の行動を表す 4 次元の特徴量を抽出する。これらの特徴量は、開発者の行動の質と協力性を評価する。

行動の質的特徴量として、最近の活動における変更行数とファイル数に基づく活動の規模である行動の強度、コミットメッセージにおける建設的キーワード（fix、improve、test 等）の含有率であるメッセージの質、レビューリクエストへの応答率等に基づく協力の程度である協力度、レビューリクエストから応答までの平均時間である応答遅延が含まれる。

## 4.3 予測プロセスの実装

### 4.3.1 時系列データの適切な分割

本研究では、データリークを防ぐために cutoff の概念と maxsampling-date を使用した時系列分割を採用している。cutoff は訓練データと評価データを分離する時点を表し、maxsampling-date は特徴量計算に使用できるデータの最大時点を制限する。これにより、予測時点以降の情報が特徴量に混入することを防ぎ、現実的な予測環境を再現している。

具体的には、各評価時点（月末）において、その時点以前のデータのみを特徴量計算に使用し、その時点以降のデータはラベル生成のみに使用する。この手法により、モデルが将来の情報を事前に知ることができない状況を保証し、予測の信頼性を確保している。

### 4.3.2 特徴量の前処理

抽出された特徴量は、ニューラルネットワークへの入力に適するよう正規化処理を施す。各特徴量を 0.0 から 1.0 の範囲に正規化することで、異なるスケールの特徴量間の偏りを除去する。

### 4.3.3 ニューラルネットワークによる予測

正規化された特徴量は、学習済みのニューラルネットワークに入力される。ネットワークは、状態特徴量（9 次元）と行動特徴量（4 次元）を合わせた 13 次元の入力層、全結合層による非線形変換を行う隠れ層、Sigmoid 活性化関数による継続確率の出力を行う出力層から構成される。

### 4.3.4 報酬関数ベースの確率算出

本研究では、逆強化学習（IRL）の枠組みにおいて、最適化された報酬関数を用いて継続確率を算出している。この手法は、エキスパート軌跡（継続した開発者の行動パターン）から報酬関数を学習し、その学習済み報酬関数を用いて新しい開発者の継続確率を予測する。

**報酬関数の学習過程:**
訓練時には、継続した開発者の軌跡を正例、離脱した開発者の軌跡を負例として扱い、状態と行動の組み合わせに対する報酬関数 R(s,a) を最適化する。この報酬関数は、継続した開発者の行動パターンに対して高い報酬を、離脱した開発者の行動パターンに対して低い報酬を出力するよう学習される。

**確率への変換:**
予測時には、学習済みの報酬関数を用いて、入力された状態特徴量と行動特徴量に対する報酬値を計算する。この報酬値は、Sigmoid 活性化関数を適用することで 0.0 から 1.0 の範囲の継続確率に変換される。具体的には、高い報酬値は高い継続確率を、低い報酬値は低い継続確率を意味し、この確率値が開発者の継続可能性を定量的に表現する最終的な予測値となる。

### 4.3.5 予測結果の解釈

ネットワークの出力は継続確率として解釈され、確率が 0.7 を超える場合は積極的な活動、高い協力性、優れたコード品質を示す開発者として高い継続可能性と判断される。確率が 0.3 から 0.7 の範囲の場合は活動パターンにばらつきがあり、継続の可能性が不確定な開発者として中程度の継続可能性と判断される。確率が 0.3 未満の場合は活動頻度の低下、協力不足、品質低下の傾向を示す開発者として低い継続可能性と判断される。

## 4.4 予測の実用例

### 4.4.1 高継続可能性の開発者

経験期間 3 ヶ月、累積コミット数 50 回、累積レビュー数 20 回、最近の活動頻度が高く、最近の行動として fix キーワードを含む建設的なコミットメッセージと迅速な応答を示す開発者の場合、継続確率 0.85 という高い継続可能性が予測される。

### 4.4.2 低継続可能性の開発者

経験期間 6 ヶ月、累積コミット数 10 回、累積レビュー数 5 回、最近の活動頻度が低く、最近の行動として簡潔なコミットメッセージと応答の遅延を示す開発者の場合、継続確率 0.25 という低い継続可能性が予測される。

## 4.5 予測システムの実用性

本予測システムは、プロジェクト管理における離脱リスクの高い開発者の早期特定によるリスク管理、継続可能性に基づく開発者への投資判断によるリソース配分、離脱防止のための具体的な対策の立案による介入戦略、開発者継続性を考慮した長期計画の策定によるプロジェクト計画の意思決定を支援する。これらの予測結果により、プロジェクト管理者はデータ駆動型の開発者管理を実現し、プロジェクトの成功確率を向上させることが可能となる。
