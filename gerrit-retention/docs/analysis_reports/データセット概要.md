# データセット概要

## 1. 全体データセット

### 基本情報
- **プロジェクト**: OpenStack Nova
- **総レビュー数**: 27,328件
- **総レビュアー数**: 565人
- **対象期間**: 2012年8月 ～ 2025年9月（約13年間）

### Bot除外
- **除外方法**: メールアドレスに対するパターンマッチング
  - 13個の推奨パターン（bot, ci, automation, jenkins, build, deploy, zuul, gerrit, infra, DL-ARC, openstack-ci, noreply, service）
- **除外効果**: 全データセット（OpenStack全体）では約44%のレビューがBot関連として除外

## 2. 実験設定

### 時系列分割
- **スナップショット日**: 2023年1月1日
- **訓練データ**: スナップショット日より**前**の期間（学習期間）の活動履歴
- **予測ラベル**: スナップショット日より**後**の期間（予測期間）の継続有無

### 訓練/評価分割
- **方針**: レビュアー単位で80/20に分割（ランダムシード=42）
- **目的**: 未知のレビュアーに対する汎化性能を測定
- **データリーク防止**: 同一レビュアーが訓練と評価の両方に出現しないよう分割

## 3. 各期間のデータ詳細

### 期間 0-3m（3ヶ月 × 3ヶ月）

| 項目 | 値 |
|------|------|
| 学習期間 | 2022-10-01 ～ 2023-01-01（3ヶ月） |
| 予測期間 | 2023-01-01 ～ 2023-04-01（3ヶ月） |
| 学習期間レビュー数 | 928件 |
| 学習期間レビュアー数 | 67人 |
| 予測期間レビュアー数 | 66人 |
| 継続レビュアー数 | 38人（56.7%） |
| 離脱レビュアー数 | 29人（43.3%） |

**評価用レビュアー**: 60人（20%）

### 期間 3-6m（6ヶ月 × 6ヶ月）

| 項目 | 値 |
|------|------|
| 学習期間 | 2022-07-01 ～ 2023-01-01（6ヶ月） |
| 予測期間 | 2023-01-01 ～ 2023-07-01（6ヶ月） |
| 学習期間レビュー数 | 2,415件 |
| 学習期間レビュアー数 | 102人 |
| 予測期間レビュアー数 | 85人 |
| 継続レビュアー数 | 48人（47.1%） |
| 離脱レビュアー数 | 54人（52.9%） |

**評価用レビュアー**: 55人（20%）

### 期間 6-9m（9ヶ月 × 9ヶ月）

| 項目 | 値 |
|------|------|
| 学習期間 | 2022-04-01 ～ 2023-01-01（9ヶ月） |
| 予測期間 | 2023-01-01 ～ 2023-10-01（9ヶ月） |
| 学習期間レビュー数 | 4,053件 |
| 学習期間レビュアー数 | 120人 |
| 予測期間レビュアー数 | 105人 |
| 継続レビュアー数 | 57人（47.5%） |
| 離脱レビュアー数 | 63人（52.5%） |

**評価用レビュアー**: 42人（20%）

### 期間 9-12m（12ヶ月 × 12ヶ月）

| 項目 | 値 |
|------|------|
| 学習期間 | 2022-01-01 ～ 2023-01-01（12ヶ月） |
| 予測期間 | 2023-01-01 ～ 2024-01-01（12ヶ月） |
| 学習期間レビュー数 | 5,473件 |
| 学習期間レビュアー数 | 167人 |
| 予測期間レビュアー数 | 123人 |
| 継続レビュアー数 | 67人（40.1%） |
| 離脱レビュアー数 | 100人（59.9%） |

**評価用レビュアー**: 39人（20%）

## 4. クロス評価設定

### 評価方法
- **訓練期間**: 4種類（0-3m, 3-6m, 6-9m, 9-12m）
- **評価期間**: 4種類（0-3m, 3-6m, 6-9m, 9-12m）
- **総組み合わせ**: 4 × 4 = 16通り

### 評価用レビュアー数（各評価期間）

| 評価期間 | レビュアー数 |
|----------|-------------|
| 0-3m | 60人 |
| 3-6m | 55人 |
| 6-9m | 42人 |
| 9-12m | 39人 |
| **合計** | **196人** |

**注**: 196人は各評価期間の合計（60+55+42+39）であり、ユニークレビュアー数ではない。

## 5. 除外されるレビュアー

以下のレビュアーは分析対象から除外される：

1. **学習期間に活動がない**: 学習期間にレビュー活動がなかったレビュアー
2. **活動履歴が少なすぎる**: 学習期間のレビュー数が閾値未満（例: 3件未満）
3. **予測期間にレビュー依頼なし**: 予測期間にレビュー依頼を受けていないレビュアー
4. **Botアカウント**: 自動化されたCI/CDアカウント

### 除外例（期間 0-3m）

- 学習期間レビュアー: 67人
- 評価に使用: 60人（評価用20%のサンプル）
- 除外: 約7人（活動履歴不足など）

## 6. 継続率の傾向

| 学習期間 | 継続率 | 傾向 |
|----------|--------|------|
| 0-3m | 56.7% | 短期では継続しやすい |
| 3-6m | 47.1% | ↓ |
| 6-9m | 47.5% | 安定 |
| 9-12m | 40.1% | 長期では離脱しやすい |

**観察**:
- 学習期間が長くなるほど継続率が低下
- 0-3m期間: 半数以上が継続
- 9-12m期間: 約40%のみが継続

## 7. 論文用LaTeX表

```latex
\begin{table}[h]
    \centering
    \caption{データセット概要}
    \label{tab:dataset_overview}
    \begin{tabular}{lcccc}
        \toprule
        \textbf{期間} & \textbf{学習期間} & \textbf{予測期間} & \textbf{レビュー数} & \textbf{レビュアー数} \\
        \midrule
        0-3m & 3ヶ月 & 3ヶ月 & 928 & 67 \\
        3-6m & 6ヶ月 & 6ヶ月 & 2,415 & 102 \\
        6-9m & 9ヶ月 & 9ヶ月 & 4,053 & 120 \\
        9-12m & 12ヶ月 & 12ヶ月 & 5,473 & 167 \\
        \bottomrule
    \end{tabular}
\end{table}

\begin{table}[h]
    \centering
    \caption{継続率と評価用レビュアー数}
    \label{tab:continuation_rates}
    \begin{tabular}{lcccc}
        \toprule
        \textbf{期間} & \textbf{継続} & \textbf{離脱} & \textbf{継続率} & \textbf{評価用} \\
        \midrule
        0-3m & 38人 & 29人 & 56.7\% & 60人 \\
        3-6m & 48人 & 54人 & 47.1\% & 55人 \\
        6-9m & 57人 & 63人 & 47.5\% & 42人 \\
        9-12m & 67人 & 100人 & 40.1\% & 39人 \\
        \bottomrule
    \end{tabular}
\end{table}
```

## 8. 論文用説明文

```latex
\subsection{データセット}

本研究では，OpenStack Novaプロジェクトの約13年間（2012年8月〜2025年9月）
のレビューデータを使用した．総レビュー数は27,328件，総レビュアー数は565人である．
前処理として，メールアドレスにbot，ci，automation等のパターンを含む
自動化アカウントを除外した．

実験では，2023年1月1日をスナップショット日として，4種類の学習期間
（3, 6, 9, 12ヶ月）と予測期間（3, 6, 9, 12ヶ月）の組み合わせを評価した．
各期間において，学習期間のレビュー数は928件（0-3m）から5,473件（9-12m）まで，
レビュアー数は67人（0-3m）から167人（9-12m）まで増加した．

継続率（予測期間中に活動を継続したレビュアーの割合）は，学習期間が
長くなるほど低下する傾向が見られた（0-3m: 56.7\% → 9-12m: 40.1\%）．

モデルの汎化性能を評価するため，全レビュアーをランダムに訓練用（80\%）と
評価用（20\%）に分割し，未知のレビュアーに対する予測精度を測定した．
評価用レビュアー数は各評価期間で異なり（0-3m: 60人，3-6m: 55人，
6-9m: 42人，9-12m: 39人），合計196人のレビュアーに対して予測を行った．

学習期間に活動がないレビュアー，活動履歴が極端に少ないレビュアー
（例: 3件未満），および予測期間にレビュー依頼を受けていないレビュアーは
分析対象から除外した．
```

## 9. まとめ

### データセットの特徴
- **大規模**: 13年間，27,328件のレビュー
- **実データ**: OpenStack Novaの実際のレビュー履歴
- **時系列**: 2023年1月1日を基準とした時系列分割
- **クロス評価**: 16通りの期間組み合わせで評価

### 注意点
- 評価用レビュアー数は各期間で異なる（活動していたレビュアーが異なるため）
- 継続率は学習期間に依存（短期ほど高い）
- 除外されるレビュアーは全体の約10-15%（活動履歴不足など）
