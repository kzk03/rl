\section{ケーススタディ}
\label{config}

\subsection{データセット}

\subsubsection{対象プロジェクト}
本研究では，OpenStackプロジェクトのコアコンポーネントであるNovaプロジェクトを対象とした．Novaは，OpenStackのコンピュートサービスを提供する重要なコンポーネントであり，活発なコードレビュー活動が行われている．

\subsubsection{データ量}
\begin{table}[h]
    \centering
    \caption{データセットの概要}
    \begin{tabularx}{\columnwidth}{XX}
        \hline
        項目 & 値 \\
        \hline
        対象期間 & 2018-2023（5年間） \\
        総レビュー依頼数 & 約10,908件 \\
        ユニークレビュアー数 & 241人 \\
        学習期間 & 2021-01-01 ～ 2023-01-01 \\
        評価期間 & 2023-01-01 ～ 2024-01-01 \\
        履歴ウィンドウ & 12ヶ月 \\
        最小活動回数 & 3回 \\
        \hline
    \end{tabularx}
    \label{table:dataset}
\end{table}

\subsection{実験設計}

本研究では，以下の3つのリサーチクエスチョン（RQ）を設定し，提案モデルの有効性を検証する．

\subsubsection{ハイパーパラメータ}
\begin{table}[h]
    \centering
    \caption{モデルのハイパーパラメータ}
    \begin{tabularx}{\columnwidth}{XX}
        \hline
        パラメータ & 値 \\
        \hline
        状態特徴量次元 & 10 \\
        行動特徴量次元 & 5 \\
        隠れ層次元 & 128 \\
        LSTM層数 & 2 \\
        Dropout率 & 0.3 \\
        学習率 & 0.0001 \\
        エポック数 & 20 \\
        バッチサイズ & 32 \\
        Focal Loss $\alpha$ & 0.3 \\
        Focal Loss $\gamma$ & 3.0 \\
        \hline
    \end{tabularx}
    \label{table:hyperparameters}
\end{table}

\subsection{RQ1: 逆強化学習に基づく提案モデルは，コードレビューにおける長期貢献者をどの程度予測できるか？}

\subsubsection{目的}
提案モデルの基本的な予測性能を評価し，コードレビューにおける長期貢献者予測の実現可能性を検証する．

\subsubsection{実験設定}
0-3ヶ月後の継続予測を対象とし，学習期間12ヶ月のデータで訓練したモデルを用いて評価を行った．

\subsubsection{結果}
表\ref{table:rq1_result}に示すように，提案モデルはAUC-ROC 0.787，AUC-PR 0.697を達成した．

\begin{table}[h]
    \centering
    \caption{0-3mモデルで0-3m後の貢献を予測した結果}
    \begin{tabularx}{\columnwidth}{XXXXX}
       \hline
       Precision & Recall & F1 & AUC-ROC & AUC-PR \\
       \hline
       0.758  & 0.657 & 0.658 & 0.787 & 0.697\\
       \hline
    \end{tabularx}
    \label{table:rq1_result}
\end{table}

\subsubsection{考察}
AUC-ROC 0.787という結果は，ランダム予測（0.5）を大きく上回り，提案モデルが継続者と離脱者を効果的に区別できることを示している．特に，クラス不均衡データにおいて重要なAUC-PR 0.697という値は，少数クラス（継続者）に対しても高い予測性能を発揮していることを示している．

\subsection{RQ2: 学習時のラベルの付け方・予測期間の長さに応じて，予測モデルの精度はどのように変化するか?}

\subsubsection{目的}
異なる時間スケール（0-3m, 3-6m, 6-9m, 9-12m）での学習と予測の組み合わせにより，モデルの予測性能がどのように変化するかを系統的に調査する．

\subsubsection{実験設定}
4つの訓練ラベル（0-3m, 3-6m, 6-9m, 9-12m）でそれぞれモデルを訓練し，4つの評価期間（0-3m, 3-6m, 6-9m, 9-12m）で評価を行うクロス評価を実施した．合計16通りの組み合わせを評価した．

\begin{figure*}[t]
    \centering
    \includegraphics[width=0.8\linewidth]{./Hashimoto_fig/heatmap_conbined.pdf}
    \caption{各モデルのクロス評価（左：AUC-ROC，右：AUC-PR）}
    \label{fig:cross_eval}
\end{figure*}

\subsubsection{結果}
図\ref{fig:cross_eval}に示すクロス評価の結果，以下の傾向が観察された：

\begin{itemize}
    \item \textbf{対角線で高性能}: 訓練ラベルと評価期間が一致する場合（例：0-3m訓練→0-3m評価）に最も高い性能を示した（AUC-ROC 0.78-0.82）
    \item \textbf{短期予測の優位性}: 0-3mモデルは全ての評価期間で比較的安定した性能を示した（AUC-ROC 0.70-0.78）
    \item \textbf{長期予測の課題}: 6-9m，9-12mモデルは，対応する期間での予測性能が低下する傾向が見られた（AUC-ROC 0.65-0.72）
\end{itemize}

\subsubsection{考察}
対角線での高性能は，各時間スケールに特有の継続パターンが存在することを示唆している．短期継続（0-3m）では最近の活動頻度が重要であるのに対し，長期継続（6-9m）ではプロジェクトへのコミットメントや協力度といった異なる要因が重要になると考えられる．

0-3mモデルの汎用性の高さは，短期的な活動パターンが長期的な継続の基礎となっていることを示唆している．一方，長期予測の難しさは，時間の経過とともに予測に影響する外部要因（個人の状況変化，プロジェクトの変化等）が増加することに起因すると考えられる．

\subsection{RQ3: 推定された報酬関数において，長期貢献者の継続的なタスク受け入れに寄与する特徴量（動機）は何か？}

\subsubsection{目的}
報酬関数から得られる特徴量の重要度を分析し，どのような要因が長期貢献者の継続に寄与しているかを明らかにする．

\subsubsection{実験設定}
勾配ベースの特徴量重要度分析を用いて，各状態特徴量と行動特徴量の継続予測への寄与度を定量化した．

\subsubsection{結果}
\begin{table}[h]
    \centering
    \caption{特徴量重要度ランキング（上位5つ）}
    \begin{tabularx}{\columnwidth}{XXX}
        \hline
        順位 & 特徴量 & 重要度スコア \\
        \hline
        1 & 最終活動からの経過日数 & 0.185 \\
        2 & 最近の活動頻度（30日） & 0.142 \\
        3 & 活動トレンド & 0.128 \\
        4 & 総レビュー数 & 0.095 \\
        5 & 協力度スコア & 0.087 \\
        \hline
    \end{tabularx}
    \label{table:feature_importance}
\end{table}

\subsubsection{考察}
最も重要な特徴量が「最終活動からの経過日数」であることは，レビュアーの最近の活動状況が将来の継続を予測する上で極めて重要であることを示している．これは，活動の途絶が離脱の強いシグナルとなることを意味している．

「最近の活動頻度」と「活動トレンド」が上位に位置することは，単なる累積的な活動量よりも，現在の活動パターンや変化の傾向が重要であることを示している．これは，プロジェクト管理者が開発者の最近の活動パターンをモニタリングすることの重要性を裏付けている．

「協力度スコア」の高い重要度は，コードレビューという協力的な活動において，他者との相互作用が継続の重要な要因であることを示唆している．

\section{議論}
\label{sec:discussion}

\subsection{提案手法の利点}

\subsubsection{時系列パターンの学習}
従来の教師あり学習では単一時点のスナップショットから予測を行っていたが，本研究の逆強化学習ベースのアプローチでは，LSTMを用いることで過去の活動履歴全体を考慮した予測が可能となった．これにより，「活動頻度が徐々に低下する」といった動的なパターンを捉えることができる．

\subsubsection{複数時間スケールでの予測}
0-3m，3-6m，6-9m，9-12mという複数の時間スケールでの予測を実現したことにより，従来研究では捉えられなかった「いつ離脱するか」という時間的な情報を提供できるようになった．これは，プロジェクト管理者が適切なタイミングで介入を行う上で有用な情報となる．

\subsubsection{データリークの防止}
本研究では，予測時点（cutoff日）における時系列的整合性を厳密に保つことで，将来の情報を一切使用せずに予測を行っている．これにより，実運用での予測精度を正確に評価できている．

\subsection{実務への示唆}

\subsubsection{早期介入の可能性}
本研究の結果は，レビュアーの継続予測が実現可能であることを示しており，プロジェクト管理者は離脱リスクの高いレビュアーを早期に特定し，適切なサポート（メンタリング，タスク調整等）を提供することができる．

\subsubsection{時間スケール別の対策}
異なる時間スケールで異なる予測パターンが観察されたことから，短期的な離脱と長期的な離脱では異なる対策が必要である可能性が示唆される．例えば，短期的な離脱には活動頻度のモニタリングとリマインダーが有効である一方，長期的な離脱にはプロジェクトへのコミットメント強化が重要となる可能性がある．

\subsection{制限事項}

\subsubsection{単一プロジェクトでの評価}
本研究はOpenStack/Novaプロジェクトのみを対象としており，他のOSSプロジェクトへの汎化性については今後の検証が必要である．プロジェクトの規模，文化，技術スタックの違いが予測性能に与える影響を調査する必要がある．

\subsubsection{外部要因の考慮}
本研究で使用した特徴量は，レビュアーのプロジェクト内での活動に基づいており，個人の状況変化（仕事の変更，健康問題等）や外部環境（経済状況，パンデミック等）といった外部要因は考慮されていない．

\subsubsection{長期予測の精度}
6-9m，9-12mといった長期予測では性能が低下する傾向が見られた．これは，予測期間が長くなるほど不確実性が増大するという本質的な課題を反映している．

\section{妥当性への脅威}
\label{sec:threats}

\subsection{内的妥当性}

\subsubsection{データの品質}
Gerrit APIから取得したデータには，自動化されたBot活動が含まれている可能性がある．本研究では一般的なBotパターンに基づいて除外を行ったが，全てのBotを完全に除外できている保証はない．

\subsubsection{ラベル付けの妥当性}
月次集約ラベルを採用したことにより，月内での活動パターンの変化を捉えられない可能性がある．また，「継続」の定義として同一プロジェクト内での活動のみを対象としたが，これが適切な定義であるかは議論の余地がある．

\subsection{外的妥当性}

\subsubsection{プロジェクトの代表性}
OpenStack/Novaは大規模で成熟したOSSプロジェクトであり，小規模プロジェクトや新興プロジェクトとは異なる特性を持つ可能性がある．本研究の結果が他のプロジェクトにどの程度適用可能かは不明である．

\subsubsection{時期の影響}
本研究のデータ収集期間（2018-2023）には，COVID-19パンデミックが含まれており，この外部要因がレビュアーの行動パターンに影響を与えた可能性がある．

\subsection{構成概念妥当性}

\subsubsection{継続の定義}
本研究では，指定期間内に1回でも活動があれば「継続」と定義したが，この定義が「長期貢献者」の概念を適切に捉えているかは議論の余地がある．活動の質や貢献の深さを考慮した定義も検討に値する．

\subsubsection{評価指標の選択}
AUC-ROCとAUC-PRを主要な評価指標としたが，実務的な有用性を評価するには，誤検出のコスト（離脱しないレビュアーを離脱すると予測）や見逃しのコスト（離脱するレビュアーを継続すると予測）を考慮した指標も必要である．

\section{おわりに}
\label{sec:conclusion}

\subsection{まとめ}
本研究では，コードレビューにおける長期貢献者予測に向けて，逆強化学習を用いた新しいアプローチを提案した．OpenStack/Novaプロジェクトを対象としたケーススタディにより，以下の知見を得た：

\begin{itemize}
    \item 提案モデルは，AUC-ROC 0.787，AUC-PR 0.697を達成し，コードレビューにおける長期貢献者予測の実現可能性を示した
    \item 異なる時間スケール（0-3m，3-6m，6-9m，9-12m）での学習と予測により，各時間スケールに特有の継続パターンが存在することを明らかにした
    \item 最終活動からの経過日数，最近の活動頻度，活動トレンドが継続予測において重要な特徴量であることを特定した
\end{itemize}

これらの結果は，OSSプロジェクトにおけるコードレビュアーの継続予測が実現可能であり，プロジェクト管理者が離脱リスクの高いレビュアーを早期に特定し，適切なサポートを提供するための基礎となる．

\subsection{今後の課題}
今後の研究課題として，以下が挙げられる：

\begin{itemize}
    \item \textbf{複数プロジェクトでの検証}: 本研究の手法を他のOSSプロジェクトに適用し，汎化性能を検証する
    \item \textbf{外部要因の組み込み}: 個人の状況や外部環境といった要因を特徴量として組み込み，予測精度の向上を図る
    \item \textbf{長期予測の改善}: 6ヶ月以上の長期予測における性能を向上させるための手法を検討する
    \item \textbf{介入戦略の設計}: 予測結果に基づいて，どのような介入（サポート）が効果的であるかを検証する実証研究を行う
    \item \textbf{リアルタイム予測システムの構築}: 提案手法を実際のOSSプロジェクトで利用可能なリアルタイム予測システムとして実装する
\end{itemize}